# RTEMS Demo for Rtmlib

This demo exemplifies how rtmlib couples software monitors with RTEMS on RISC-V archistectures.

# Overview

This example, runs the application (with one task) and monitor run in a seperate task.
The application sends the data to buffer which is then monitored by a `monitor` generated by the following expression.

`(a) until (b) within 9s`

```
rmtld3synth --synth-cpp11 --input-dsl "(a) until (b) within 9s " --out-src test-folder
```

# Compile and Run

Run `make` inside `examples/qemu-riscv-virt-rtems/simplemonitor` directory to compile the demo application and monitor. For dependencies, see the reference [Containerfile](../../Containerfile).

Run QEMU
```
qemu-system-riscv64 -semihosting -M virt -cpu rv64 -nographic -bios  o-optimize/app.exe
```


## Output

Here is the output of the example. 
```
status=2, tbegin=4013705199
status=2, tbegin=4013705199
status=2, tbegin=4013705199
status=2, tbegin=4013705199
status=2, tbegin=4013705199
status=2, tbegin=4013705199
status=2, tbegin=4013705199
status=2, tbegin=4013705199
status=0, tbegin=4013705199
status=0, tbegin=4013705199
status=0, tbegin=4013705199
status=0, tbegin=4013705199
status=0, tbegin=4013705199
status=0, tbegin=4013705199
status=0, tbegin=4013705199
status=0, tbegin=4013705199
status=0, tbegin=4013705199
status=0, tbegin=4013705199
main.cxx success.
```
